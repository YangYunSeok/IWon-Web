# Web Admin 재무회계결산 관리 (FinancialClosing)

> 원본: `docs/기본설계문서/관리자화면 목록 정리.md` 7장, `docs/기본설계문서/웹UI및설계가이드(관리자용).md` 9장.
> API: 백엔드 계약 확정 필요(TBD). UI 기준만 이관.

## 1. 목적

- 승인/거래 결과를 회계 관점으로 재구성하여 결산 산출물(보고서/내역)을 조회/다운로드.
- 기본은 조회 전용(Read-only). 결산 확정/마감 기능을 도입하면 별도 권한/프로세스가 필요.

## 2. 화면 구조

1) 상단
- 기준 기간 선택(월/분기/반기/년)
- 조회 / 초기화
- 다운로드

2) 중단
- 탭(Tab) 영역 (결산 기능별 전환)

3) 하단
- 선택된 탭 결과(요약 + 테이블)

## 3. 탭 구성

1) 재무회계결산 내역
- 기간별 분개 리스트 조회
- 주요 항목(예): 분개 일자, 이벤트 유형(발행/소각/전송/전환), 코인 구분(포인트/결제), 차/대 계정, 금액, 참조 ID(승인 ID/트랜잭션 ID/TxHash), 상태(마감 도입 시)

2) 결산보고서
- 기간 단위(월/분기) 요약
- 주요 항목(예): 발행/소각/전송 합계, 기말 잔액, 계정별 합계, 코인 구분별 요약

3) 준비금 계정 잔액 및 발행부채 현황
- 코인 유형별(포인트/결제) 분리 표시 필수
- 기간 내 증감(기초/증가/감소/기말)
- (선택) 불일치/점검 플래그

## 4. UX 규칙

- 기간 필터 기본값: 최근 마감 월(또는 최근 1개월)
- “조회” 버튼으로 데이터 갱신(자동조회 최소화)
- 데이터 없음: “조회된 데이터가 없습니다”
- 오류: 공통 오류 메시지(Toast/MessageBox)
- 다운로드 파일명 예시:
  - `FIN_CLOSE_{TAB}_{YYYYMM}.xlsx`
  - `FIN_CLOSE_{TAB}_{YYYYQ}.pdf`

## 5. 권한

- 기본 접근 권한: Approver 권장 (`ROLE_ADMIN_APPROVER`)
- 재무/감사 정책에 따라 별도 재무 역할(Role) 분리 가능

## 6. API 호출 타이밍 (TBD)

- 화면 진입/기간 변경/탭 변경 시
  - 해당 탭의 조회 API 호출
- 다운로드 클릭 시
  - 현재 탭 + 선택 기간 기준 다운로드 API 호출

> API 계약이 확정되면 docs/design/api/web-admin.md에 `@codegen` 블록을 추가하고,
> 모델 의미는 docs/design/model/web-admin.md에 반영한다.
