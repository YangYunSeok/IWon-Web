# 🪙 IWon 스테이블 코인 관리 시스템 화면 구성

## ✅ 사전 구현 가능 여부 확인
- [x] **웹 기반 지갑 생성**: 관리자 웹에서 버튼 클릭으로 지갑(Address/Key) 생성 가능
- [x] **웹 기반 코인 발행**: 생성된 지갑으로 관리자 웹에서 즉시 코인(ERC-20) 발행 가능

---

## 1. 📊 대시보드 (Dashboard)
시스템의 전체적인 건전성과 자금 흐름을 한눈에 파악하는 메인 화면

### 주요 기능
* **총 발행량 카드**
    * 블록체인상 전체 IWon 발행량(Total Supply) 표시
        - `전체 직원 DB 잔액 합계` vs `블록체인 지갑 실제 잔액` 비교하여 불일치시 별도 알림 표시
        * 불일치알림 클릭시 **불일치 리스트 (Discrepancy Alert)** 제공
        * 차액 발생 계정 감지 시 리스트에 **Red Alert** 표시

* **용도별 발행 현황**
    * **[Chart]** 복지 포인트 vs 결제 코인 비율 (Pie Chart 제공)
    * **[Data]** 현재 유통량(DB 합계) vs 블록체인 총량 비교 (데이터 일치 여부 확인)
    * **[Data]** 직원들이 사용한 결제 코인이 가맹점 지갑으로 입금된 내역 집계
* **금일 주요 지표**
    * 금일 신규 지갑 생성 수
    * 금일 코인 지급 총액 (Mint)
    * 금일 결제 사용 총액 (Burn)
* **트랜잭션 확인**
    * 블록체인 대기 상태 리스트
    * 최근 fail 목록
    * 


---

## 2. 🆔 임직원 지갑 관리 (Wallet Management)
신규 입사자의 지갑을 생성하고, 직원별 지갑 상태를 관리

### 데이터 리스트 (Table)
| 항목 | 설명 |
| :--- | :--- |
| **기본 정보** | 사번, 성명, 부서, 직급 |
| **지갑 주소** | 생성됨(Etherscan 링크) / 미생성(생성 버튼 노출) |
| **상태** | 재직 (Active) / 퇴사 (Inactive - *퇴사 시 지갑 동결*) |

### 주요 기능
* **[지갑 생성] 버튼**
    * 지갑 미보유 직원의 Key Pair(Private Key/Address) 생성 및 DB 저장
* **[개인키 백업] 버튼**
    * *※ 최고 관리자 전용 기능*
    * 서버에 암호화되어 저장된 키를 재설정하거나 비상 시 확인
* **조회 필터**
    * 부서별 조회, 지갑 미생성자 필터링 등

    ---

## 3. 코인 지급 관리 (Coin Distribution)
직원들에게 코인을 발행(Mint)하거나 회수(Burn)하는 업무 화면

### UI 구성
* **좌측 (Left Panel):** 조직도 트리 또는 직원 검색 목록 (Checkbox 다중 선택 지원)
* **우측 (Right Panel):** 지급/회수 설정 패널

### 주요 기능
1.  **지급 (Mint)**
    * **대상 선택:** 개별 직원 또는 부서(팀) 전체 선택
    * **코인 구분:** 복지 포인트 / 결제 코인 / 성과급 등 선택 (DB 태깅)
    * **수량 입력:** 지급할 코인 수량 (IWon)
    * **비고:** 지급 사유 입력 (예: "2026 설날 귀성비")
2.  **회수 (Burn), 수정(타입, 유효기간)**
    * 퇴사자 정산 또는 오지급 발생 시, 해당 직원의 잔액을 차감하고 블록체인상에서 소각 처리
3.  **일괄 업로드 (Bulk Action)**
    * Excel 양식(`사번`, `금액`, `타입`) 업로드로 대량 지급 자동화

---

## 4. 📜 거래 이력 조회 (Transaction History)
블록체인과 DB에 기록된 모든 자금 이동 내역을 상세 추적

### 데이터 리스트 (Table)
| 필드명 | 설명 |
| :--- | :--- |
| **Tx Hash** | 블록체인 트랜잭션 해시 (클릭 시 Etherscan 탐색기 연동) |
| **일시** | `YYYY-MM-DD HH:mm:ss` |
| **유형** | 발행(Mint), 결제(Transfer), 회수(Burn) |
| **Sender / Receiver** | 보낸 사람 / 받는 사람 (사번/이름 매핑 표시) |
| **코인 구분** | 복지 / 결제 |
| **금액** | 변동 수량 (+/-) |
| **상태** | 성공 / 실패 / 대기중 (Confirming) |

### 검색 필터
* 기간 조회 (Date Range)
* 사번/이름 검색
* 거래 유형 (지급/결제/회수)
* 코인 타입 (복지/결제)

---

## 5. 온체인 승인 관리 (Onchain Approval Management)
모든 온체인 트랜잭션(발행, 회수, 속성 변경 등)이 실행되기 전, 권한이 있는 관리자들의 검토를 거치는 화면입니다.

### 역할 분리(개념적)
    * 시스템 접근 권한을 두 가지로 나눕니다.
    * 작성자 (Maker): 코인 지급/회수/가맹점 등록 등을 '기안'하는 담당자.
    * 승인자 (Checker): 기안된 내용을 검토하고 최종 '승인'하여 블록체인에 전송하는 관리자.

### 주요기능
* **승인 대기 목록 (Approval Queue)**
    * 승인자가 확인해야 할 요청들을 리스트 형태로 보여줍니다.

* **승인 상세 정보 (Request Detail)**
    * 현재 유통량 vs 발행/정산 후 예상 유통량 대조 정보
    * 준비금 적정여부
    * 지급 오류 대상자 명단 (지갑 주소 오류 등)
    * 법정화폐(KRW) 정산을 위한 데이터 산출 및 엑셀 다운로드
    * 반려 시 사유 의견 작성

### UI 구성
* **승인 현황 요약 (Approval KPI)**
    * 상단 배너 형태로 현재 승인 업무의 전체 볼륨을 표시합니다.
        승인 대기: 현재 검토가 필요한 총 기안 수
        경고 발생: 시스템 사전 검증에서 오류(지갑 주소 불일치 등)가 발견된 건수
        진행 중: 승인 후 현재 블록체인 네트워크에서 컨펌 중인 건수
        준비금 안전도: 대기 건을 모두 승인했을 때의 예상 준비금 비율(%)
* **승인 테이블**
    | 필드 | 설명 |
    | :--- | :--- |
    | **유형** | 트랜잭션의 종류 (발행, 정산, 회수, 정책 수정 등) 표시 |
    | **기안 내용/제목** | 기안자가 입력한 요청의 핵심 명칭 및 상세 요약 |
    | **총 금액 / 수량** | 해당 요청으로 변동될 코인의 총합계 및 대상 인원수 |
    | **시스템 검증** | 지갑 유효성, 준비금 대조, 한도 초과 여부 등 사전 체크 결과 |
    | **요청 일시** | 작성자(Maker)가 승인 요청을 제출한 날짜와 시간 |
    | **관리 액션** | 상세 내역 확인 팝업 진입 및 승인/반려 처리 버튼 |

    
--

## 6. 월별 지급 대상자 관리 (Monthly Payment Planning)
매월 반복되는 정기 지급(결제, 복지포인트) 대상자와 금액을 관리하며, 전월 데이터 이관을 통해 반복 업무를 최소화

### 주요 기능
* **전월 데이터 가져오기 (Rollover):** 지난달 내역을 그대로 복사하여 생성 (퇴사자 제외 등 자동화).
* **대상자 수동 추가:** 신규 입사자나 특별 지급 건을 팝업으로 등록 또는 엑셀업로드 
* **월별 조회:** `YYYY-MM` 기준으로 지급 계획 리스트 조회 및 확정.
* **저장 테이블:** `GPCL_MTH_PAY_TGT` (월별 지급 계획).