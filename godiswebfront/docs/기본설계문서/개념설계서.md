# 관리자 코인 관리 시스템 개념 설계서
(Conceptual Design)
(2026-01-14 기준, v0.2)

---

## 1. 비전 및 목표

관리자 코인 관리 시스템(Admin Web)은 사내에서 운영되는 복지코인 및 결제코인의
**발행·회수·전송을 직접 수행하지 않고**,  
이를 **승인·통제·감사·결산 관점에서 관리**하기 위한 관리자 전용 시스템이다.

본 시스템의 목표는 다음과 같다.

- 코인 가치 이동에 대한 **관리적 통제와 승인 체계 확립**
- 운영·감사·재무 조직 간 **공통된 판단 기준(SSOT) 제공**
- 모든 관리 행위에 대한 **추적 가능성 및 감사 가능성 확보**
- 재무·회계 관점의 **결산 산출물 제공**

---

## 2. 시스템 범위 및 역할 정의

### 2.1 시스템 범위

본 관리자 웹(Admin Web)은 **코인 가치 이동의 단일 진실의 원천(SoT)이 아니다**.

- 코인 발행·소각·전송의 **최종 실행 및 원장 확정**은
  외부 **스마트컨트랙트 서비스(SC Service)**가 담당한다.
- 관리자 웹은 승인, 통제, 조회, 결산을 담당하는
  **관리·감사 관점의 보조 시스템**이다.

### 2.2 시스템 책임

관리자 웹은 다음 책임을 가진다.

- 임직원 지갑의 관리적 상태 관리
- 코인 발행/회수 요청의 생성 및 승인 워크플로우 제공
- 승인 결과에 따른 실행 결과 조회 및 추적
- 전체 거래 흐름에 대한 감사 및 모니터링
- 재무·회계 결산을 위한 결과 해석 및 산출물 제공

👉 관리자는 **직접 블록체인을 조작하지 않으며**,
모든 코인 이동은 승인 절차를 통해서만 이루어진다.

---

## 3. 핵심 도메인(개념) 및 용어

### 3.1 코인 유형

| 구분 | 설명 |
|---|---|
| 복지코인 | 임직원 복지 포인트 지급용 |
| 결제코인 | 사내/가맹점 결제용 |

### 3.2 사용자 역할(SoD)

본 시스템은 **직무 분리(Separation of Duties)** 원칙을 따른다.

| 역할 | 개념적 책임 |
|---|---|
| 작성자 (Operator) | 요청 생성 및 관리 |
| 승인자 (Approver) | 승인·확정·감사 |
| 조회자 (Viewer) | 조회 전용 |

👉 요청 생성자와 승인자는 동일인이 될 수 없다.

### 3.3 핵심 개념

- **요청(Request)**  
  코인 발행, 회수, 전환, 정산 등 업무 실행의 시작점

- **승인(Approval)**  
  요청에 대해 실행을 허가하거나 반려하는 관리적 결정

- **실행(Execution)**  
  승인된 요청을 기반으로 SC Service에서 실제 코인 가치 이동을 수행하는 단계

- **거래(Transaction)**  
  코인 이동 결과에 대한 기록(온체인/오프체인 포함)

---

## 4. 핵심 업무 흐름(개념)

```text
요청 생성
   ↓
승인 대기
   ↓
승인 / 반려
   ↓
(승인 시) 실행
   ↓
거래 이력 기록
   ↓
집계 / 모니터링 / 결산
```

위 흐름은 **모든 코인 이동 및 관리 행위에 공통 적용**된다.

---

## 5. 상태 및 일관성 원칙

- 코인 가치 이동의 최종 확정은 SC Service가 수행한다.
- 관리자 웹의 조회 데이터는 실행 결과 및 이벤트 적재를 기반으로 하며,
  **Eventual Consistency 모델**을 전제로 한다.
- 승인 상태(결정)와 실행 상태(거래)는 **논리적으로 분리**되어 관리된다.
- 처리 직후 일부 데이터는 “처리 중” 상태로 조회될 수 있다.

---

## 6. 보안·감사·통제 원칙

- 모든 요청·승인·실행·거래는 **추적 가능**해야 한다.
- 승인 이력은 삭제 또는 임의 변경이 불가하다.
- 관리자 행위는 감사 로그의 대상이 된다.
- 권한은 역할(Role) 기반으로 명확히 분리된다.

---

## 7. 설계 범위 및 비포함 항목

본 개념 설계서는 다음을 **포함하지 않는다**.

- DB 테이블 및 컬럼 구조
- API 엔드포인트 및 DTO 상세
- 기술 스택 및 프레임워크 선택
- 성능, 인덱스, 배치 처리 설계
- 블록체인 스마트컨트랙트 로직 및 온체인 처리 규칙

위 항목은 **논리 설계서 및 물리 설계서의 책임 범위**이다.

---

## 8. 요약

- 관리자 웹은 코인 가치 이동을 직접 수행하지 않는 **관리·감사 중심 시스템**이다.
- 승인 워크플로우가 시스템의 중심이며,
  모든 기능은 이를 기준으로 구성된다.
- 재무회계결산은 운영 기능이 아니라
  **결과를 해석하고 보고하는 독립 영역**이다.

---
