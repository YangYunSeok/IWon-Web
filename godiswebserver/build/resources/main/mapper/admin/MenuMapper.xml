<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.godisweb.mapper.admin.MenuMapper">
    <select id="selectMenus" parameterType="map" resultType="map">
    <![CDATA[
    SELECT  M.MENU_ID
          , '' AS MENU_ID_NUM
          , M.MENU_NM
          , M.MENU_ENG_NM
          , M.SYS_TP_CD
          , M.MENU_IMG_ID
          , M.MENU_ORD
          , M.UP_MENU_ID
          , M.BZ_UPCLSS_ID
          , M.PROGM_ID
          , M.SCREN_NO
          , M.SCREN_EXECUTE_TP_CD
          , M.OPEN_TP_CD
          , M.SCREN_PARM_CONTN
          , M.HELP_URL
          , M.USE_YN
          , P.PROGM_NM
       FROM GPCL_MENU  M
       LEFT OUTER JOIN GPCL_PROGM P ON M.PROGM_ID = P.PROGM_ID
      WHERE M.SYS_TP_CD = #{SYS_TP_CD}
      ORDER BY BZ_UPCLSS_ID, UP_MENU_ID, MENU_ORD
    ]]>
    </select>

    <insert id="insertMenu" parameterType="map" >
    <![CDATA[
    INSERT INTO GPCL_MENU
    (
        MENU_ID
      , MENU_NM
      , MENU_ENG_NM 
      , SYS_TP_CD
      , MENU_IMG_ID
      , MENU_ORD
      , UP_MENU_ID
      , BZ_UPCLSS_ID
      , PROGM_ID
      , SCREN_NO
      , SCREN_EXECUTE_TP_CD
      , SCREN_PARM_CONTN
      , HELP_URL
      , USE_YN
      , REG_DDTM
      , REG_ID
      , LST_ADJ_DDTM
      , LST_ADJPRN_ID
    )
    VALUES
    (
        #{MENU_ID}  
      , #{MENU_NM}
      , #{MENU_ENG_NM}
      , 'STO'
      , #{MENU_IMG_ID}
      , #{MENU_ORD}
      , #{UP_MENU_ID}
      , #{BZ_UPCLSS_ID}
      , #{PROGM_ID}
      , #{SCREN_NO}
      , #{screnExecuteTpCd}
      , #{SCREN_EXECUTE_TP_CD}
      , #{SCREN_PARM_CONTN}
      , #{HELP_URL}
      , #{USE_YN}
      , DATE_FORMAT(NOW(), '%Y%m%d%H%i%s')
      , #{regId}
      , DATE_FORMAT(NOW(), '%Y%m%d%H%i%s')
      , #{lstAdjprnId}
    )
    ]]>
    </insert>
</mapper>